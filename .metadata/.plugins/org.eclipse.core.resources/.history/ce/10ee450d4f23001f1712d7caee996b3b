<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hoteles</title>
    <link rel="stylesheet" href="/css/vuelos.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
</head>
<body>
    <h1>Estos son los vuelos disponibles...</h1>
	<h3>Introduza el número de plazas que dessea reservar para ver los vuelos con suficientes plazas: </h3>
	<form action="/vuelos/buscar" method="get" class="search-container">
        <input type="text" id="numPlazas" placeholder="Número de plazas a reservar..."/>
        <button onClick="obtenerNumPlazasAReservar()"id="botonBuscar" type="submit">Buscar</button>
	</form>
    
    <table class="tablaConVuelos">
        <thead>
            <tr>
                <th>Compañía</th>
                <th>Fecha</th>
                <th>Precio</th>
                <th>Plazas restantes</th>
				<th>Reservar vuelo</th>
            </tr>
        </thead>
        <tbody id="vueloTableBody">
            <tr th:each="vuelo : ${vuelos}" class="vuelo">
				<form action="/vuelos/reservar">
				<input type="hidden" name="numPlazas" class="inputOculto">
				<input type="hidden" name="id" th:value="${vuelo.id}">
                <td th:text="${vuelo.aerolinea}"></td>
                <td th:text="${vuelo.fechaVuelo}"></td>
                <td th:text="${vuelo.precio} + '€'"></td>
                <td th:text="${vuelo.plazasDisponibles}"></td>
				<td><button class="botonReservar" type="submit">Reservar</td>
				</form>
            </tr>
        </tbody>
    </table>
	<script>
			// Obtiene el input específico por su id
			    var inputEspecifico = document.getElementById("numPlazas");
			    var valor = inputEspecifico.value;
				document.getElementById("inputOculto").value = valor;
	</script>
</body>
</html>
